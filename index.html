<!doctype html>
<html lang="en">
<head>
  <!-- Basic HTML5 document structure -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Income & Budget Planner</title>
  
  <!-- Enhanced font preloading for better performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart.js for data visualization -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            border: "hsl(var(--border))",
            input: "hsl(var(--input))",
            ring: "hsl(var(--ring))",
            background: "hsl(var(--background))",
            foreground: "hsl(var(--foreground))",
            primary: {
              DEFAULT: "hsl(var(--primary))",
              foreground: "hsl(var(--primary-foreground))",
            },
            secondary: {
              DEFAULT: "hsl(var(--secondary))",
              foreground: "hsl(var(--secondary-foreground))",
            },
            destructive: {
              DEFAULT: "hsl(var(--destructive))",
              foreground: "hsl(var(--destructive-foreground))",
            },
            muted: {
              DEFAULT: "hsl(var(--muted))",
              foreground: "hsl(var(--muted-foreground))",
            },
            accent: {
              DEFAULT: "hsl(var(--accent))",
              foreground: "hsl(var(--accent-foreground))",
            },
            popover: {
              DEFAULT: "hsl(var(--popover))",
              foreground: "hsl(var(--popover-foreground))",
            },
            card: {
              DEFAULT: "hsl(var(--card))",
              foreground: "hsl(var(--card-foreground))",
            },
          },
          borderRadius: {
            lg: "var(--radius)",
            md: "calc(var(--radius) - 2px)",
            sm: "calc(var(--radius) - 4px)",
          },
        }
      }
    }
  </script>

  <!-- Enhanced Shadcn UI styles with financial theme -->
  <style>
    :root {
      --background: 0 0% 0%;
      --foreground: 0 0% 100%;
      --card: 0 0% 0%;
      --card-foreground: 0 0% 100%;
      --popover: 0 0% 0%;
      --popover-foreground: 0 0% 100%;
      --primary: 0 0% 98%;
      --primary-foreground: 0 0% 9%;
      --secondary: 0 0% 10%;
      --secondary-foreground: 0 0% 100%;
      --muted: 0 0% 10%;
      --muted-foreground: 0 0% 70%;
      --accent: 0 0% 10%;
      --accent-foreground: 0 0% 100%;
      --destructive: 0 62.8% 30.6%;
      --destructive-foreground: 0 0% 98%;
      --success: 0 0% 83.1%;
      --success-foreground: 0 0% 98%;
      --warning: 38 92% 50%;
      --warning-foreground: 0 0% 9%;
      --info: 217 91% 60%;
      --info-foreground: 0 0% 98%;
      --border: 0 0% 20%;
      --input: 0 0% 10%;
      --ring: 0 0% 83.1%;
      --radius: 0.75rem;

      /* Financial specific colors */
      --income: 0 0% 83.1%;
      --expense: 0 84% 60%;
      --savings: 217 91% 60%;
      --investment: 271 81% 56%;
      --debt: 25 95% 53%;
      --emergency: 142 69% 58%;
    }

    .dark {
      --background: 0 0% 0%;
      --foreground: 0 0% 100%;
      --card: 0 0% 0%;
      --card-foreground: 0 0% 100%;
      --popover: 0 0% 0%;
      --popover-foreground: 0 0% 100%;
      --primary: 0 0% 100%;
      --primary-foreground: 0 0% 0%;
      --secondary: 0 0% 10%;
      --secondary-foreground: 0 0% 100%;
      --muted: 0 0% 10%;
      --muted-foreground: 0 0% 70%;
      --accent: 0 0% 10%;
      --accent-foreground: 0 0% 100%;
      --destructive: 0 62.8% 30.6%;
      --destructive-foreground: 0 0% 98%;
      --success: 0 0% 83.1%;
      --success-foreground: 240 10% 3.9%;
      --warning: 38 92% 50%;
      --warning-foreground: 240 10% 3.9%;
      --info: 217 91% 60%;
      --info-foreground: 240 10% 3.9%;
      --border: 0 0% 20%;
      --input: 0 0% 10%;
      --ring: 0 0% 70%;

      /* Dark mode financial colors */
      --income: 0 0% 83.1%;
      --expense: 0 62.8% 30.6%;
      --savings: 217 91% 60%;
      --investment: 271 81% 56%;
      --debt: 25 95% 53%;
      --emergency: 142 69% 58%;
    }

    /* Custom gradient backgrounds */
    .gradient-income {
      background: linear-gradient(135deg, hsl(var(--income)) 0%, hsl(var(--income) / 0.8) 100%);
    }

    .gradient-expense {
      background: linear-gradient(135deg, hsl(var(--expense)) 0%, hsl(var(--expense) / 0.8) 100%);
    }

    .gradient-savings {
      background: linear-gradient(135deg, hsl(var(--savings)) 0%, hsl(var(--savings) / 0.8) 100%);
    }

    .gradient-investment {
      background: linear-gradient(135deg, hsl(var(--investment)) 0%, hsl(var(--investment) / 0.8) 100%);
    }

    .gradient-debt {
      background: linear-gradient(135deg, hsl(var(--debt)) 0%, hsl(var(--debt) / 0.8) 100%);
    }

    .gradient-emergency {
      background: linear-gradient(135deg, hsl(var(--emergency)) 0%, hsl(var(--emergency) / 0.8) 100%);
    }

    /* Enhanced shadows */
    .shadow-elevated {
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    }

    .shadow-card {
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    }

    /* Custom animations */
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-slide-in {
      animation: slideIn 0.3s ease-out;
    }

    /* Typography enhancements */
    .text-financial-heading {
      font-weight: 700;
      letter-spacing: -0.025em;
      color: hsl(var(--foreground));
    }

    .text-financial-subheading {
      font-weight: 600;
      color: hsl(var(--muted-foreground));
    }

    /* Custom metric value styling */
    .metric-value {
      font-variant-numeric: tabular-nums;
      font-weight: 800;
      letter-spacing: -0.025em;
    }

    /* Status indicator styles */
    .status-positive {
      color: hsl(var(--success));
    }

    .status-negative {
      color: hsl(var(--destructive));
    }

    .status-warning {
      color: hsl(var(--warning));
    }

    .status-neutral {
      color: hsl(var(--muted-foreground));
    }

    /* Data management styles */
    .cursor-pointer {
      cursor: pointer;
    }

    .notification {
      margin-top: 1rem;
      padding: 0.75rem;
      border-radius: 0.5rem;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .notification.hidden {
      display: none;
    }

    .notification.success {
      background-color: hsl(var(--success) / 0.1);
      color: hsl(var(--success));
      border: 1px solid hsl(var(--success) / 0.2);
    }

    .notification.error {
      background-color: hsl(var(--destructive) / 0.1);
      color: hsl(var(--destructive));
      border: 1px solid hsl(var(--destructive) / 0.2);
    }
  </style>

  <!-- Modular stylesheets -->
  <link rel="stylesheet" href="./css/styles.css">
  
  <!-- SEO meta description -->
  <meta name="description" content="Calculate your annual income from hourly, daily, weekly, monthly, or yearly pay and get smart budgeting suggestions by category.">
</head>
<body class="bg-background text-foreground min-h-screen">
  <!-- Site Header -->
  <header class="bg-background border-b border-border">
    <div class="container mx-auto px-6 py-6">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground">
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
              <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"/>
              <path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd"/>
            </svg>
          </div>
          <div>
            <h1 class="text-2xl font-bold text-foreground">FinancePro</h1>
            <p class="text-sm text-muted-foreground">Smart financial planning & investment guidance</p>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Application Container -->
  <main class="container mx-auto px-4 py-8">
    <!-- Tab Navigation - Switch between Income Calculator and Budget Planner -->
    <div class="mb-8">
      <div class="flex flex-wrap gap-2 border-b border-border pb-4">
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground" data-tab="dashboard">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <path d="M9 9h6v6H9z"/>
          </svg>
          Dashboard
        </button>
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground text-muted-foreground" data-tab="income">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <line x1="12" y1="1" x2="12" y2="23"/>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
          </svg>
          Income
        </button>
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground text-muted-foreground" data-tab="budget">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M9 12l2 2 4-4"/>
            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
            <path d="M13 12h1"/>
          </svg>
          Budget
        </button>
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground text-muted-foreground" data-tab="debt">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
            <line x1="1" y1="10" x2="23" y2="10"/>
          </svg>
          Debt Payoff
        </button>
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground text-muted-foreground" data-tab="emergency">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
          </svg>
          Emergency Fund
        </button>
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground text-muted-foreground" data-tab="goals">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 6v6l4 2"/>
          </svg>
          Goals
        </button>
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground text-muted-foreground" data-tab="investment">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M3 3v18h18"/>
            <path d="M19 9l-5 5-4-4-3 3"/>
          </svg>
          Investments
        </button>
        <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground text-muted-foreground" data-tab="ai-assistant">
          <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
          </svg>
          AI Assistant
        </button>
      </div>
    </div>

    <!-- Financial Health Dashboard Tab -->
    <section class="tab-content active" id="dashboard-tab" aria-labelledby="dashboard-title">
      <!-- Dashboard Header -->
      <div class="mb-8">
        <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6">
          <div class="flex-1">
            <h1 id="dashboard-title" class="text-3xl font-bold text-foreground mb-2">Financial Dashboard</h1>
            <p class="text-muted-foreground">Your complete financial overview and personalized guidance</p>
          </div>
          <div class="flex items-center gap-4">
            <div class="text-right">
              <div class="text-2xl font-bold text-foreground" id="health-score">--</div>
              <div class="text-sm text-muted-foreground">Health Score</div>
            </div>
            <div class="w-16 h-16 rounded-full border-4 border-muted flex items-center justify-center bg-card">
              <svg class="w-6 h-6 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
              </svg>
            </div>
          </div>
        </div>
        <div class="mt-4" id="score-breakdown">
          <p class="text-sm text-muted-foreground">Complete your financial information to get your personalized score</p>
        </div>
      </div>

      <!-- Key Metrics Overview -->
      <div class="space-y-6">
        <div>
          <h3 class="text-lg font-semibold text-foreground">Financial Overview</h3>
          <p class="text-sm text-muted-foreground">Key metrics at a glance</p>
        </div>
        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3" id="dashboard-metrics">
          <!-- Monthly Income Card -->
          <div class="metric-card rounded-lg border border-border bg-card p-6 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-200 hover:border-slate-600 hover:border-slate-600">
            <div class="flex flex-row items-center justify-between space-y-0 pb-2">
              <h3 class="text-sm font-medium text-card-foreground">Monthly Income</h3>
              <div class="flex h-8 w-8 items-center justify-center rounded-md bg-slate-700 text-slate-300">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <line x1="12" y1="1" x2="12" y2="23"/>
                  <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                </svg>
              </div>
            </div>
            <div>
              <div class="text-2xl font-bold metric-value text-foreground" id="metric-income">$0</div>
              <p class="text-xs text-muted-foreground mt-1">Not calculated</p>
            </div>
          </div>

          <!-- Monthly Expenses Card -->
          <div class="metric-card rounded-lg border border-border bg-card p-6 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-200 hover:border-slate-600">
            <div class="flex flex-row items-center justify-between space-y-0 pb-2">
              <h3 class="text-sm font-medium text-card-foreground">Monthly Expenses</h3>
              <div class="flex h-8 w-8 items-center justify-center rounded-md bg-red-900/30 text-red-400">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                </svg>
              </div>
            </div>
            <div>
              <div class="text-2xl font-bold metric-value text-foreground" id="metric-expenses">$0</div>
              <p class="text-xs text-muted-foreground mt-1">Not calculated</p>
            </div>
          </div>

          <!-- Savings Rate Card -->
          <div class="metric-card rounded-lg border border-border bg-card p-6 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-200 hover:border-slate-600">
            <div class="flex flex-row items-center justify-between space-y-0 pb-2">
              <h3 class="text-sm font-medium text-card-foreground">Savings Rate</h3>
              <div class="flex h-8 w-8 items-center justify-center rounded-md bg-blue-900/30 text-blue-400">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path d="M3 3v18h18"/>
                  <path d="M19 9l-5 5-4-4-3 3"/>
                </svg>
              </div>
            </div>
            <div>
              <div class="text-2xl font-bold metric-value text-foreground" id="metric-savings-rate">0%</div>
              <p class="text-xs text-muted-foreground mt-1">Not calculated</p>
            </div>
          </div>

          <!-- Emergency Fund Card -->
          <div class="metric-card rounded-lg border border-border bg-card p-6 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-200 hover:border-slate-600">
            <div class="flex flex-row items-center justify-between space-y-0 pb-2">
              <h3 class="text-sm font-medium text-card-foreground">Emergency Fund</h3>
              <div class="flex h-8 w-8 items-center justify-center rounded-md bg-amber-900/30 text-amber-400">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
              </div>
            </div>
            <div>
              <div class="text-2xl font-bold metric-value text-foreground" id="metric-emergency">$0</div>
              <p class="text-xs text-muted-foreground mt-1">Not set</p>
            </div>
          </div>

          <!-- Total Debt Card -->
          <div class="metric-card rounded-lg border border-border bg-card p-6 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-200 hover:border-slate-600">
            <div class="flex flex-row items-center justify-between space-y-0 pb-2">
              <h3 class="text-sm font-medium text-card-foreground">Total Debt</h3>
              <div class="flex h-8 w-8 items-center justify-center rounded-md bg-orange-900/30 text-orange-400">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
                  <line x1="1" y1="10" x2="23" y2="10"/>
                </svg>
              </div>
            </div>
            <div>
              <div class="text-2xl font-bold metric-value text-foreground" id="metric-debt">$0</div>
              <p class="text-xs text-muted-foreground mt-1">Not calculated</p>
            </div>
          </div>

          <!-- Investments Card -->
          <div class="metric-card rounded-lg border border-border bg-card p-6 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-200 hover:border-slate-600">
            <div class="flex flex-row items-center justify-between space-y-0 pb-2">
              <h3 class="text-sm font-medium text-card-foreground">Investments</h3>
              <div class="flex h-8 w-8 items-center justify-center rounded-md bg-purple-900/30 text-purple-400">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path d="M3 3v18h18"/>
                  <path d="M19 9l-5 5-4-4-3 3"/>
                </svg>
              </div>
            </div>
            <div>
              <div class="text-2xl font-bold metric-value text-foreground" id="metric-investments">$0</div>
              <p class="text-xs text-muted-foreground mt-1">Not set</p>
            </div>
          </div>
        </div>
      </div>


      <!-- Two Column Layout for Recommendations and Actions -->
      <div class="dashboard-grid">
        <!-- Recommendations -->
        <div class="dashboard-section recommendations-section">
          <div class="section-header">
            <h3>Smart Recommendations</h3>
            <span class="section-subtitle">Personalized next steps</span>
          </div>
          <div class="recommendation-list" id="recommendation-list">
            <div class="recommendation-item priority-high">
              <div class="rec-icon">📊</div>
              <div class="rec-content">
                <h4>Start by calculating your income</h4>
                <p>Use the Income tab to determine your take-home pay and set up your financial foundation.</p>
              </div>
              <div class="rec-action">
                <button class="rec-btn" onclick="switchTab('income')">Start</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="dashboard-section quick-actions-section">
          <div class="section-header">
            <h3>Quick Actions</h3>
            <span class="section-subtitle">Jump to any tool</span>
          </div>
          <div class="action-grid">
            <button class="action-card" onclick="switchTab('income')">
              <div class="action-icon">💰</div>
              <div class="action-content">
                <div class="action-title">Income Calculator</div>
                <div class="action-desc">Calculate take-home pay</div>
              </div>
            </button>
            <button class="action-card" onclick="switchTab('budget')">
              <div class="action-icon">📋</div>
              <div class="action-content">
                <div class="action-title">Budget Planner</div>
                <div class="action-desc">Track your expenses</div>
              </div>
            </button>
            <button class="action-card" onclick="switchTab('debt')">
              <div class="action-icon">💳</div>
              <div class="action-content">
                <div class="action-title">Debt Payoff</div>
                <div class="action-desc">Plan debt elimination</div>
              </div>
            </button>
            <button class="action-card" onclick="switchTab('emergency')">
              <div class="action-icon">🛡️</div>
              <div class="action-content">
                <div class="action-title">Emergency Fund</div>
                <div class="action-desc">Build your safety net</div>
              </div>
            </button>
            <button class="action-card" onclick="switchTab('goals')">
              <div class="action-icon">🎯</div>
              <div class="action-content">
                <div class="action-title">Financial Goals</div>
                <div class="action-desc">Set and track goals</div>
              </div>
            </button>
            <button class="action-card" onclick="switchTab('investment')">
              <div class="action-icon">📈</div>
              <div class="action-content">
                <div class="action-title">Investments</div>
                <div class="action-desc">Safe stock picks</div>
              </div>
            </button>
          </div>
        </div>

        <!-- Data Management Section -->
        <div class="dashboard-section">
          <div class="section-header">
            <h3>Data Management</h3>
            <span class="section-subtitle">Export, import, or clear your financial data</span>
          </div>
          <div class="action-grid">
            <button class="action-card" onclick="exportFinancialData()">
              <div class="action-icon">📥</div>
              <div class="action-content">
                <div class="action-title">Export Data</div>
                <div class="action-desc">Download as JSON file</div>
              </div>
            </button>

            <label class="action-card cursor-pointer" for="import-file">
              <div class="action-icon">📤</div>
              <div class="action-content">
                <div class="action-title">Import Data</div>
                <div class="action-desc">Upload JSON file</div>
              </div>
              <input type="file" id="import-file" accept=".json" style="display: none;" onchange="handleFileImport(event)">
            </label>

            <button class="action-card" onclick="clearAllData()">
              <div class="action-icon">🗑️</div>
              <div class="action-content">
                <div class="action-title">Clear Data</div>
                <div class="action-desc">Reset all inputs</div>
              </div>
            </button>
          </div>

          <!-- Notification Area -->
          <div id="notification" class="notification hidden"></div>
        </div>
      </div>
    </section>

    <!-- Income Calculator Tab -->
    <section class="tab-content" id="income-tab" aria-labelledby="calc-title">
      <div class="card">
        <div class="flex flex-col lg:flex-row gap-6">
          <!-- Enhanced Calculator Form -->
          <div class="flex-1">
            <h2 id="calc-title" class="text-xl font-semibold mb-4">Advanced Income Calculator</h2>

            <form id="income-form" class="space-y-4">
              <!-- Primary Income Section -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="field">
                  <label for="pay-amount">Pay Amount</label>
                  <div class="input-group">
                    <span class="input-prefix">$</span>
                    <input id="pay-amount" name="payAmount" type="number" inputmode="decimal" step="0.01" min="0" placeholder="25.00" required>
                  </div>
                </div>

                <div class="field">
                  <label for="pay-frequency">Pay Frequency</label>
                  <select id="pay-frequency" name="payFrequency" required>
                    <option value="hour">Per Hour</option>
                    <option value="day">Per Day</option>
                    <option value="week">Per Week</option>
                    <option value="month">Per Month</option>
                    <option value="year">Per Year</option>
                  </select>
                </div>
              </div>

              <!-- Work Schedule Section -->
              <div class="work-schedule-section" id="work-schedule">
                <h3 class="text-sm font-medium text-muted-foreground mb-2">Work Schedule</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                  <div class="field" id="hours-per-day-field">
                    <label for="hours-per-day">Hours/Day</label>
                    <input id="hours-per-day" name="hoursPerDay" type="number" step="0.1" min="0" max="24" placeholder="8.0">
                  </div>
                  <div class="field" id="days-per-week-field">
                    <label for="days-per-week">Days/Week</label>
                    <input id="days-per-week" name="daysPerWeek" type="number" step="0.1" min="0" max="7" placeholder="5.0">
                  </div>
                  <div class="field" id="weeks-per-year-field">
                    <label for="weeks-per-year">Weeks/Year</label>
                    <input id="weeks-per-year" name="weeksPerYear" type="number" step="0.1" min="0" max="52" placeholder="50.0">
                  </div>
                </div>
              </div>

              <!-- Additional Income Section -->
              <div class="additional-income-section">
                <div class="flex items-center justify-between mb-2">
                  <h3 class="text-sm font-medium text-muted-foreground">Additional Income</h3>
                  <button type="button" id="toggle-additional" class="text-xs text-primary cursor-pointer">+ Add</button>
                </div>
                <div id="additional-income-fields" class="hidden space-y-3">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div class="field">
                      <label for="bonus-amount">Annual Bonus</label>
                      <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input id="bonus-amount" name="bonusAmount" type="number" step="0.01" min="0" placeholder="5000">
                      </div>
                    </div>
                    <div class="field">
                      <label for="overtime-hours">Overtime Hours/Week</label>
                      <input id="overtime-hours" name="overtimeHours" type="number" step="0.1" min="0" placeholder="5.0">
                    </div>
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div class="field">
                      <label for="commission-rate">Commission Rate (%)</label>
                      <input id="commission-rate" name="commissionRate" type="number" step="0.1" min="0" max="100" placeholder="3.0">
                    </div>
                    <div class="field">
                      <label for="commission-base">Commission Base</label>
                      <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input id="commission-base" name="commissionBase" type="number" step="0.01" min="0" placeholder="100000">
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Location & Tax Section -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="field">
                  <label for="zipcode">ZIP Code</label>
                  <input id="zipcode" name="zipcode" type="text" pattern="[0-9]{5}(-[0-9]{4})?" placeholder="12345" required>
                </div>
                <div class="field">
                  <label for="filing-status">Filing Status</label>
                  <select id="filing-status" name="filingStatus">
                    <option value="single">Single</option>
                    <option value="married-jointly">Married Filing Jointly</option>
                    <option value="married-separately">Married Filing Separately</option>
                    <option value="head-of-household">Head of Household</option>
                  </select>
                </div>
              </div>

              <!-- Deductions Section -->
              <div class="deductions-section">
                <div class="flex items-center justify-between mb-2">
                  <h3 class="text-sm font-medium text-muted-foreground">Pre-Tax Deductions</h3>
                  <button type="button" id="toggle-deductions" class="text-xs text-primary cursor-pointer">+ Add</button>
                </div>
                <div id="deduction-fields" class="hidden grid grid-cols-1 md:grid-cols-3 gap-3">
                  <div class="field">
                    <label for="health-insurance">Health Insurance</label>
                    <div class="input-group">
                      <span class="input-prefix">$</span>
                      <input id="health-insurance" name="healthInsurance" type="number" step="0.01" min="0" placeholder="200">
                    </div>
                  </div>
                  <div class="field">
                    <label for="retirement-401k">401(k) Contribution</label>
                    <div class="input-group">
                      <span class="input-prefix">$</span>
                      <input id="retirement-401k" name="retirement401k" type="number" step="0.01" min="0" placeholder="500">
                    </div>
                  </div>
                  <div class="field">
                    <label for="other-deductions">Other Deductions</label>
                    <div class="input-group">
                      <span class="input-prefix">$</span>
                      <input id="other-deductions" name="otherDeductions" type="number" step="0.01" min="0" placeholder="100">
                    </div>
                  </div>
                </div>
              </div>

              <!-- Form Actions -->
              <div class="flex gap-3 pt-4">
                <button type="submit" class="btn-primary flex-1">Calculate Income</button>
                <button type="button" id="reset-btn" class="btn-secondary">Reset</button>
              </div>
            </form>
          </div>

          <!-- Real-time Results Display -->
          <div class="flex-1">
            <div class="sticky top-4">
              <h3 class="text-xl font-semibold mb-4">Income Breakdown</h3>
              <div id="results" class="results space-y-4" aria-live="polite">
                <div class="text-center text-muted-foreground py-8">
                  <svg class="mx-auto h-12 w-12 mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                  </svg>
                  <p>Enter your income details to see breakdown</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Budget Planner Tab -->
    <section class="tab-content" id="budget-tab" aria-labelledby="budget-title">
      <div class="card">
        <h2 id="budget-title">Personal Budget Planner</h2>
        <p>Input your monthly expenses to get personalized savings and investment recommendations.</p>

        <div class="budget-overview" id="budget-overview">
          <h3>Budget Distribution</h3>
          <div class="overview-grid">
            <div class="overview-item">
              <span class="label">Rent/Mortgage</span>
              <span class="value" id="summary-rent-mortgage">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Utilities</span>
              <span class="value" id="summary-utilities">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Groceries</span>
              <span class="value" id="summary-groceries">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Transportation</span>
              <span class="value" id="summary-transportation">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Insurance</span>
              <span class="value" id="summary-insurance">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Debt Payments</span>
              <span class="value" id="summary-debt-payments">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Dining Out</span>
              <span class="value" id="summary-dining-out">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Shopping</span>
              <span class="value" id="summary-shopping">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Subscriptions</span>
              <span class="value" id="summary-subscriptions">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Miscellaneous</span>
              <span class="value" id="summary-miscellaneous">0% · $0</span>
            </div>
            <div class="overview-item">
              <span class="label">Remaining Income</span>
              <span class="value" id="summary-remaining">100% · $0</span>
            </div>
          </div>
        </div>

        <!-- Budget Analysis Form -->
        <form id="budget-form" class="budget-form">
          <!-- Monthly Income Section -->
          <div class="budget-section">
            <h3>Monthly Income</h3>
            <div class="income-display">
              <label for="monthly-income">Monthly Net Income (After Taxes)</label>
              <div id="monthly-income-display" class="income-amount">$0</div>
              <input id="monthly-income" name="monthlyIncome" type="hidden" value="0">
            </div>
          </div>

          <!-- Essential Expenses Section -->
          <div class="budget-section">
            <h3>Essential Expenses</h3>
            <div class="expense-grid">
              <div class="field expense-field">
                <label for="rent-mortgage-amount">Rent/Mortgage</label>
                <input id="rent-mortgage-amount" class="expense-input" name="rentMortgage" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 1200">
                <div class="expense-visual">
                  <input id="rent-mortgage-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="rent-mortgage-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="utilities-amount">Utilities (Electric, Gas, Water)</label>
                <input id="utilities-amount" class="expense-input" name="utilities" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 200">
                <div class="expense-visual">
                  <input id="utilities-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="utilities-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="groceries-amount">Groceries & Food</label>
                <input id="groceries-amount" class="expense-input" name="groceries" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 400">
                <div class="expense-visual">
                  <input id="groceries-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="groceries-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="transportation-amount">Transportation (Gas, Public Transit)</label>
                <input id="transportation-amount" class="expense-input" name="transportation" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 300">
                <div class="expense-visual">
                  <input id="transportation-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="transportation-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="insurance-amount">Insurance (Health, Auto, Home)</label>
                <input id="insurance-amount" class="expense-input" name="insurance" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 250">
                <div class="expense-visual">
                  <input id="insurance-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="insurance-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="debt-payments-amount">Debt Payments (Credit Cards, Loans)</label>
                <input id="debt-payments-amount" class="expense-input" name="debtPayments" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 300">
                <div class="expense-visual">
                  <input id="debt-payments-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="debt-payments-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Discretionary Expenses Section -->
          <!-- Helps highlight lifestyle spending so the recommendations can flag cutback opportunities -->
          <div class="budget-section">
            <h3>Discretionary Expenses</h3>
            <div class="expense-grid">
              <div class="field expense-field">
                <label for="dining-out-amount">Dining Out & Entertainment</label>
                <input id="dining-out-amount" class="expense-input" name="diningOut" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 200">
                <div class="expense-visual">
                  <input id="dining-out-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="dining-out-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="shopping-amount">Shopping & Personal Items</label>
                <input id="shopping-amount" class="expense-input" name="shopping" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 150">
                <div class="expense-visual">
                  <input id="shopping-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="shopping-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="subscriptions-amount">Subscriptions & Memberships</label>
                <input id="subscriptions-amount" class="expense-input" name="subscriptions" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 50">
                <div class="expense-visual">
                  <input id="subscriptions-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="subscriptions-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
              <div class="field expense-field">
                <label for="miscellaneous-amount">Miscellaneous</label>
                <input id="miscellaneous-amount" class="expense-input" name="miscellaneous" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 100">
                <div class="expense-visual">
                  <input id="miscellaneous-slider" class="expense-slider" type="range" min="0" max="100" step="1" value="0" disabled>
                  <div class="slider-meta">
                    <span>Share of income</span>
                    <span id="miscellaneous-display" class="slider-value">0% · $0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="actions">
            <button type="submit" class="btn-primary">Analyze Budget</button>
            <button type="button" id="budget-reset-btn" class="btn-secondary">Reset</button>
          </div>
        </form>

        <!-- Budget Analysis Results Display -->
        <!-- This container receives synthesized guidance (alerts + savings tips) generated in script.js -->
        <div id="budget-results" class="budget-results" aria-live="polite"></div>
      </div>
    </section>

    <!-- Safe Investments Tab -->
    <section class="tab-content" id="investment-tab" aria-labelledby="investment-title">
      <div class="card">
        <h2 id="investment-title">Safe Investment Recommendations</h2>
        <p>Get data-driven recommendations for safe, dividend-paying stocks and ETFs based on your budget.</p>
        <div class="api-notice">
          <p><strong>Note:</strong> For real-time stock prices, get a free API key from <a href="https://www.alphavantage.co/support/#api-key" target="_blank">Alpha Vantage</a> and update the script.js file.</p>
        </div>

        <!-- Investment Parameters Form -->
        <form id="investment-form" class="investment-form">
          <!-- Investment Amount Section -->
          <div class="budget-section">
            <h3>Investment Parameters</h3>
            <div class="expense-grid">
              <div class="field">
                <label for="investment-amount">Monthly Investment Amount</label>
                <input id="investment-amount" name="investmentAmount" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 500" required>
              </div>
              <div class="field">
                <label for="risk-tolerance">Risk Tolerance</label>
                <select id="risk-tolerance" name="riskTolerance" required>
                  <option value="conservative">Conservative (Low Risk)</option>
                  <option value="moderate" selected>Moderate (Medium Risk)</option>
                  <option value="aggressive">Aggressive (Higher Risk)</option>
                </select>
              </div>
              <div class="field">
                <label for="investment-timeframe">Investment Timeframe</label>
                <select id="investment-timeframe" name="investmentTimeframe" required>
                  <option value="short">1-3 years</option>
                  <option value="medium" selected>3-10 years</option>
                  <option value="long">10+ years</option>
                </select>
              </div>
              <div class="field">
                <label for="focus-type">Investment Focus</label>
                <select id="focus-type" name="focusType" required>
                  <option value="dividend" selected>Dividend Income</option>
                  <option value="growth">Long-term Growth</option>
                  <option value="balanced">Balanced Approach</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="actions">
            <button type="submit" class="btn-primary">Get Recommendations</button>
            <button type="button" id="investment-reset-btn" class="btn-secondary">Reset</button>
          </div>
        </form>

        <!-- Investment Recommendations Display -->
        <div id="investment-results" class="investment-results" aria-live="polite"></div>

        <!-- Investment Visualization Section -->
        <div id="investment-charts" class="investment-charts" style="display: none;">
          <div class="charts-grid">
            <!-- Portfolio Allocation Chart -->
            <div class="chart-container">
              <h4>Portfolio Allocation</h4>
              <div class="chart-wrapper">
                <canvas id="allocationChart" width="400" height="400"></canvas>
              </div>
            </div>

            <!-- Sector Diversification Chart -->
            <div class="chart-container">
              <h4>Sector Diversification</h4>
              <div class="chart-wrapper">
                <canvas id="sectorChart" width="400" height="400"></canvas>
              </div>
            </div>

            <!-- Risk vs Return Visualization -->
            <div class="chart-container full-width">
              <h4>Expected Performance Overview</h4>
              <div class="chart-wrapper">
                <canvas id="performanceChart" width="800" height="400"></canvas>
              </div>
            </div>

            <!-- Investment Growth Projection -->
            <div class="chart-container full-width">
              <h4>Investment Growth Projection</h4>
              <div class="chart-wrapper">
                <canvas id="growthChart" width="800" height="400"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- API Status Display -->
        <div id="api-status" class="api-status" style="display: none;"></div>
      </div>
    </section>

    <!-- Debt Payoff Calculator Tab -->
    <section class="tab-content" id="debt-tab" aria-labelledby="debt-title">
      <div class="card">
        <h2 id="debt-title">Debt Payoff Calculator</h2>
        <p>Compare debt payoff strategies and see how quickly you can become debt-free.</p>

        <!-- Debt Input Section -->
        <form id="debt-form" class="debt-form">
          <div class="debt-section">
            <h3>Your Debts</h3>
            <div id="debt-list" class="debt-list">
              <!-- Debt items will be added here -->
            </div>
            <button type="button" id="add-debt-btn" class="btn-secondary">+ Add Debt</button>
          </div>

          <div class="debt-section">
            <h3>Payoff Strategy</h3>
            <div class="strategy-grid">
              <div class="field">
                <label for="extra-payment">Extra Monthly Payment</label>
                <input id="extra-payment" name="extraPayment" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 200">
              </div>
              <div class="field">
                <label for="payoff-strategy">Strategy</label>
                <select id="payoff-strategy" name="payoffStrategy">
                  <option value="avalanche">Debt Avalanche (Highest Interest First)</option>
                  <option value="snowball">Debt Snowball (Smallest Balance First)</option>
                </select>
              </div>
            </div>
          </div>

          <div class="actions">
            <button type="submit" class="btn-primary">Calculate Payoff Plan</button>
            <button type="button" id="debt-reset-btn" class="btn-secondary">Reset</button>
          </div>
        </form>

        <!-- Debt Results Display -->
        <div id="debt-results" class="debt-results" aria-live="polite"></div>
      </div>
    </section>

    <!-- Emergency Fund Calculator Tab -->
    <section class="tab-content" id="emergency-tab" aria-labelledby="emergency-title">
      <div class="card">
        <h2 id="emergency-title">Emergency Fund Calculator</h2>
        <p>Build your financial safety net with a personalized emergency fund target.</p>

        <!-- Emergency Fund Form -->
        <form id="emergency-form" class="emergency-form">
          <div class="emergency-section">
            <h3>Monthly Expenses</h3>
            <div class="expense-grid">
              <div class="field">
                <label for="emergency-expenses">Total Monthly Essential Expenses</label>
                <input id="emergency-expenses" name="emergencyExpenses" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 3500" required>
                <small>Include rent, utilities, groceries, insurance, debt payments, etc.</small>
              </div>
              <div class="field">
                <label for="emergency-months">Target Coverage (Months)</label>
                <select id="emergency-months" name="emergencyMonths" required>
                  <option value="3">3 months (Minimum recommended)</option>
                  <option value="6" selected>6 months (Standard recommendation)</option>
                  <option value="9">9 months (High stability job)</option>
                  <option value="12">12 months (Variable income/Self-employed)</option>
                </select>
              </div>
            </div>
          </div>

          <div class="emergency-section">
            <h3>Current Emergency Fund</h3>
            <div class="field">
              <label for="current-emergency">Current Emergency Fund Balance</label>
              <input id="current-emergency" name="currentEmergency" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 1500">
            </div>
          </div>

          <div class="emergency-section">
            <h3>Savings Plan</h3>
            <div class="field">
              <label for="monthly-contribution">Monthly Contribution to Emergency Fund</label>
              <input id="monthly-contribution" name="monthlyContribution" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 300">
            </div>
          </div>

          <div class="actions">
            <button type="submit" class="btn-primary">Calculate Emergency Fund Plan</button>
            <button type="button" id="emergency-reset-btn" class="btn-secondary">Reset</button>
          </div>
        </form>

        <!-- Emergency Fund Results -->
        <div id="emergency-results" class="emergency-results" aria-live="polite"></div>
      </div>
    </section>

    <!-- AI Financial Assistant Tab -->
    <section class="tab-content" id="ai-assistant-tab" aria-labelledby="ai-title">
      <div class="card">
        <div class="flex flex-col h-[600px]">
          <!-- AI Assistant Header -->
          <div class="flex items-center justify-between border-b border-border pb-4 mb-4">
            <div>
              <h2 id="ai-title" class="text-xl font-semibold">AI Financial Assistant</h2>
              <p class="text-sm text-muted-foreground">Ask me anything about personal finance, investments, budgeting, and more</p>
            </div>
            <div class="flex items-center gap-2">
              <div id="ai-status" class="text-xs text-muted-foreground">Ready</div>
              <div class="w-2 h-2 bg-green-500 rounded-full"></div>
            </div>
          </div>

          <!-- Quick Action Buttons -->
          <div class="flex flex-wrap gap-2 mb-4">
            <button class="quick-prompt-btn" data-prompt="How should I budget my income based on my current financial situation?">
              💰 Budget Advice
            </button>
            <button class="quick-prompt-btn" data-prompt="What are some safe investment options for beginners?">
              📈 Investment Tips
            </button>
            <button class="quick-prompt-btn" data-prompt="How can I improve my credit score?">
              📊 Credit Score
            </button>
            <button class="quick-prompt-btn" data-prompt="What's the best debt payoff strategy for my situation?">
              💳 Debt Strategy
            </button>
            <button class="quick-prompt-btn" data-prompt="How much should I save for emergencies?">
              🛡️ Emergency Fund
            </button>
            <button class="quick-prompt-btn" data-prompt="What are current market trends I should know about?">
              📊 Market Data
            </button>
          </div>

          <!-- Chat Messages Container -->
          <div id="chat-messages" class="flex-1 overflow-y-auto space-y-4 mb-4 p-4 bg-muted/20 rounded-lg">
            <div class="ai-message">
              <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="bg-background rounded-lg p-3 border border-border">
                    <p class="text-sm">👋 Hello! I'm your AI financial assistant. I can help you with:</p>
                    <ul class="text-xs mt-2 space-y-1 text-muted-foreground">
                      <li>• Personalized advice based on your financial data</li>
                      <li>• Real-time market information and analysis</li>
                      <li>• Investment strategies and recommendations</li>
                      <li>• Budget optimization and debt management</li>
                      <li>• Tax planning and financial goal setting</li>
                    </ul>
                    <p class="text-xs mt-2 text-muted-foreground">Ask me anything or use the quick buttons above!</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Chat Input Area -->
          <div class="chat-input-container">
            <form id="ai-chat-form" class="flex gap-2">
              <div class="flex-1 relative">
                <input
                  type="text"
                  id="ai-message-input"
                  placeholder="Ask me about budgeting, investing, debt management, or any financial question..."
                  class="chat-input w-full h-12 px-4 pr-12 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                  maxlength="500"
                  autocomplete="off"
                  required
                  style="color: #111827 !important; background: white !important;"
                >
                <button
                  type="submit"
                  class="send-button absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-primary hover:bg-primary/10 rounded"
                  disabled
                >
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                  </svg>
                </button>
              </div>
              <button type="button" id="clear-chat-btn" class="px-4 py-2 border border-border rounded-lg hover:bg-muted text-sm">
                Clear
              </button>
            </form>
          </div>

          <!-- API Key Setup (Hidden by default) -->
          <div id="api-key-setup" class="mt-4 p-4 bg-muted/50 rounded-lg" style="display: none;">
            <h4 class="text-sm font-medium mb-2">Setup Required</h4>
            <p class="text-xs text-muted-foreground mb-3">
              To use the AI assistant, you'll need a free Google Gemini API key.
              <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-primary hover:underline">Get your free key here</a>.
            </p>
            <div class="flex gap-2">
              <input
                type="password"
                id="gemini-api-key"
                placeholder="Enter your Gemini API key..."
                class="flex-1 h-10 px-3 border border-border rounded text-sm"
              >
              <button id="save-api-key" class="px-4 py-2 bg-primary text-primary-foreground rounded text-sm hover:bg-primary/90">
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Goals Tracker Tab -->
    <section class="tab-content" id="goals-tab" aria-labelledby="goals-title">
      <div class="card">
        <h2 id="goals-title">Financial Goals Tracker</h2>
        <p>Set and track your financial goals with personalized timelines and progress visualization.</p>

        <!-- Add Goal Section -->
        <div class="goals-section">
          <h3>Add New Goal</h3>
          <form id="goals-form" class="goals-form">
            <div class="goal-input-grid">
              <div class="field">
                <label for="goal-name">Goal Name</label>
                <input id="goal-name" name="goalName" type="text" placeholder="e.g., House Down Payment" required>
              </div>
              <div class="field">
                <label for="goal-amount">Target Amount</label>
                <input id="goal-amount" name="goalAmount" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 50000" required>
              </div>
              <div class="field">
                <label for="goal-current">Current Savings</label>
                <input id="goal-current" name="goalCurrent" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 5000">
              </div>
              <div class="field">
                <label for="goal-monthly">Monthly Contribution</label>
                <input id="goal-monthly" name="goalMonthly" type="number" inputmode="decimal" step="0.01" min="0" placeholder="e.g., 800">
              </div>
              <div class="field">
                <label for="goal-deadline">Target Date (Optional)</label>
                <input id="goal-deadline" name="goalDeadline" type="date">
              </div>
              <div class="field">
                <label for="goal-priority">Priority</label>
                <select id="goal-priority" name="goalPriority">
                  <option value="high">High</option>
                  <option value="medium" selected>Medium</option>
                  <option value="low">Low</option>
                </select>
              </div>
            </div>
            <div class="actions">
              <button type="submit" class="btn-primary">Add Goal</button>
            </div>
          </form>
        </div>

        <!-- Goals List -->
        <div class="goals-section">
          <h3>Your Goals</h3>
          <div id="goals-list" class="goals-list">
            <div class="no-goals-message">
              <p>No goals set yet. Add your first financial goal above!</p>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Site Footer -->
  <footer class="border-t border-border bg-background">
    <div class="container mx-auto px-4 py-6">
      <p class="text-center text-sm text-muted-foreground">For guidance only. Adjust to your needs, goals, and location.</p>
    </div>
  </footer>

  <!-- Modular JavaScript Files -->
  <script src="./js/validation.js" defer></script>
  <script src="./js/performance.js" defer></script>
  <script src="./js/calculators.js" defer></script>
  <script src="./js/dataManager.js" defer></script>
  <script src="./js/uiUtils.js" defer></script>
  <script src="./js/marketData.js" defer></script>
  <script src="./js/aiAssistant.js" defer></script>
  <script src="./js/app.js" defer></script>

  <!-- Legacy Script (keeping for backward compatibility) -->
  <script src="./script.js" defer></script>
  
</body>
</html>
